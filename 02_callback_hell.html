<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>2. ì½œë°± ì§€ì˜¥</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
      }
      .container {
        max-width: 600px;
        margin: auto;
        padding: 20px;
        border: 1px solid lightgray;
        border-radius: 8px;
      }
      button {
        padding: 10px 15px;
        font-size: 16px;
        cursor: pointer;
      }
      #log {
        margin-top: 20px;
        padding: 10px;
        border: 1px solid black;
        background-color: ghostwhite;
        min-height: 150px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>2. ì½œë°± ì§€ì˜¥(Callback Hell) ì²´í—˜</h1>
      <p>
        ì•„ë˜ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìˆœì°¨ì ì¸ ë¹„ë™ê¸° ì‘ì—…ì´ ì‹¤í–‰ë©ë‹ˆë‹¤. ì½”ë“œì˜ êµ¬ì¡°ì—
        ì£¼ëª©í•˜ì„¸ìš”.
      </p>
      <button id="start-btn">ì‘ì—… ì‹œì‘</button>
      <div id="log"></div>
    </div>

    <script>
      const startBtn = document.getElementById("start-btn");
      const logDiv = document.getElementById("log");

      // ë¡œê·¸ë¥¼ í™”ë©´ì— ì¶œë ¥í•˜ëŠ” í—¬í¼ í•¨ìˆ˜
      const log = (message) => {
        logDiv.innerHTML += `<div>${message}</div>`;
      };

      /*
        ==================================================================================
        ğŸ¯ ì½œë°± ì§€ì˜¥(Callback Hell)ì´ë€?
        ==================================================================================
        - ë¹„ë™ê¸° ì‘ì—…ì„ 'ìˆœì„œëŒ€ë¡œ' ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì½œë°± í•¨ìˆ˜ ì•ˆì— ë˜ ë‹¤ë¥¸ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” êµ¬ì¡°ê°€
          ë°˜ë³µë˜ë©´ì„œ ì½”ë“œê°€ ê³„ì†í•´ì„œ ì•ˆìª½ìœ¼ë¡œ ê¹Šì–´ì§€ëŠ” í˜„ìƒì„ ë§í•©ë‹ˆë‹¤.
        - ì½”ë“œì˜ ë“¤ì—¬ì“°ê¸°ê°€ ê¹Šì–´ì ¸ ê°€ë…ì„±ì´ ë§¤ìš° ë‚˜ë¹ ì§‘ë‹ˆë‹¤.
        - ì—ëŸ¬ ì²˜ë¦¬ê°€ ë³µì¡í•´ì§€ë©°, ì½”ë“œ ìˆ˜ì • ë° ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤.
        */
      /*
       setTimeout(í•¨ìˆ˜, ì‹œê°„) A -> B -> C
       setTimeout({
            A
            setTimeout(B, ì‹œê°„)
       }, ì‹œê°„)
        setTimeout({
            A
            setTimeout(
                B
                setTimeout(
                C, ì‹œê°„)
                , ì‹œê°„)
       }, ì‹œê°„)
       */

      startBtn.addEventListener("click", () => {
        logDiv.innerHTML = ""; // ì´ì „ ë¡œê·¸ ì´ˆê¸°í™”
        log("ì‘ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤...");

        // ğŸ§‘â€ğŸ’» ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”. (setTimeoutì„ ì¤‘ì²©í•˜ì—¬ ì½œë°± ì§€ì˜¥ì„ ë§Œë“œì„¸ìš”)
        // 1. 1ì´ˆ ë’¤ì— "1. ì„œë²„ì—ì„œ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ" ë¡œê·¸ë¥¼ ì°ìŠµë‹ˆë‹¤.
        setTimeout(() => {
          log("(1) ì„œë²„ì—ì„œ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ");
          // 2. ì²« ë²ˆì§¸ ì‘ì—…ì´ ëë‚œ í›„, ë‹¤ì‹œ 1ì´ˆ ë’¤ì— "2. ì‚¬ìš©ìì˜ ê²Œì‹œë¬¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ" ë¡œê·¸ë¥¼ ì°ìŠµë‹ˆë‹¤.
          setTimeout(() => {
            log("(2) ì‚¬ìš©ìì˜ ê²Œì‹œë¬¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ");
            setTimeout(() => {
              log("(3) ê²Œì‹œë¬¼ì˜ ëŒ“ê¸€ ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ");
              log("ëª¨ë“  ì‘ì—…ì´ ëë‚¬ìŠµë‹ˆë‹¤.");
            }, 1000);
          }, 1000);
          setTimeout(() => {
            log("(4) ì‚¬ìš©ìì˜ ê²Œì‹œë¬¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ");
            setTimeout(() => {
              log("(5) ê²Œì‹œë¬¼ì˜ ëŒ“ê¸€ ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ");
              log("ëª¨ë“  ì‘ì—…ì´ ëë‚¬ìŠµë‹ˆë‹¤.");
            }, 1000);
          }, 1000);
        }, 1000);
        // 3. ë‘ ë²ˆì§¸ ì‘ì—…ì´ ëë‚œ í›„, ë‹¤ì‹œ 1ì´ˆ ë’¤ì— "3. ê²Œì‹œë¬¼ì˜ ëŒ“ê¸€ ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì™„ë£Œ"ì™€ "ëª¨ë“  ì‘ì—…ì´ ëë‚¬ìŠµë‹ˆë‹¤." ë¡œê·¸ë¥¼ ì°ìŠµë‹ˆë‹¤.
      });
    </script>
  </body>
</html>
